<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy 22nd Birthday! ü¶Ñüíñ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== VARIABLES & RESET ===== */
        :root {
            --soft-pink: #FFD6E7;
            --pink-light: #FFB8D9;
            --pink-medium: #FF8EC7;
            --pink-dark: #FF6BB5;
            --unicorn-gold: #FFEAA7;
            --text-dark: #8A4B75;
            --shadow: rgba(255, 107, 181, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
            background: linear-gradient(135deg, var(--soft-pink), #FFECF1);
            color: var(--text-dark);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* ===== PARTIKEL BACKGROUND ===== */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
        }
        
        /* ===== SCENE UMUM ===== */
        .scene {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px 20px;
            position: relative;
            opacity: 1;
            transition: opacity 0.8s ease;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            text-align: center;
            z-index: 10;
        }
        
        /* ===== SCENE 1: INTRO & TIUP LILIN ===== */
        #scene1 {
            background: linear-gradient(135deg, #FFECF1, #FFD6E7);
        }
        
        .unicorn-header {
            font-size: 4.5rem;
            margin-bottom: 10px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .birthday-title {
            font-size: 3.2rem;
            color: var(--pink-dark);
            margin-bottom: 15px;
            text-shadow: 3px 3px 0 var(--shadow);
        }
        
        .subtitle {
            font-size: 1.4rem;
            margin-bottom: 40px;
            color: var(--text-dark);
            opacity: 0.9;
        }
        
        .cake-container {
            position: relative;
            margin: 40px auto;
            width: 300px;
            height: 250px;
        }
        
        .cake {
            font-size: 150px;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            filter: drop-shadow(0 10px 15px rgba(0,0,0,0.1));
        }
        
        .candle {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3;
        }
        
        .flame {
            width: 30px;
            height: 50px;
            background: radial-gradient(circle, #FFF9C4, #FFEB3B 40%, #FF9800 70%);
            border-radius: 50% 50% 20% 20%;
            margin: 0 auto 10px;
            animation: flicker 0.5s infinite alternate, glow 1s infinite alternate;
            filter: blur(1px);
            box-shadow: 0 0 25px #FF9800;
        }
        
        @keyframes flicker {
            0% { transform: scale(1) rotate(-2deg); }
            100% { transform: scale(1.1) rotate(2deg); }
        }
        
        @keyframes glow {
            0% { box-shadow: 0 0 15px #FF9800; }
            100% { box-shadow: 0 0 30px #FFEB3B, 0 0 40px #FF9800; }
        }
        
        .wish-text {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px 30px;
            border-radius: 20px;
            max-width: 600px;
            margin: 30px auto;
            font-size: 1.2rem;
            line-height: 1.6;
            border: 3px dashed var(--pink-medium);
            box-shadow: 0 10px 25px var(--shadow);
        }
        
        .blow-btn {
            background: linear-gradient(145deg, var(--pink-dark), var(--pink-medium));
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s;
            box-shadow: 0 10px 25px var(--shadow);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .blow-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 30px var(--shadow);
        }
        
        .blow-btn:active {
            transform: translateY(0) scale(0.98);
        }
        
        .blow-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(145deg, var(--pink-medium), var(--pink-dark));
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .blow-btn:hover::after {
            opacity: 1;
        }
        
        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }
        
        .floating {
            position: absolute;
            font-size: 2rem;
            opacity: 0.7;
            animation: floatAround 15s linear infinite;
        }
        
        @keyframes floatAround {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(100px, 50px) rotate(90deg); }
            50% { transform: translate(50px, 100px) rotate(180deg); }
            75% { transform: translate(-50px, 50px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }
        
        /* ===== SCENE 2: GAME 22 ORB ===== */
        #scene2 {
            display: none;
            background: linear-gradient(135deg, #FFECF1, #FFD6E7);
        }
        
        .game-header {
            margin-bottom: 30px;
        }
        
        .game-title {
            font-size: 2.8rem;
            color: var(--pink-dark);
            margin-bottom: 10px;
        }
        
        .counter-container {
            background: white;
            padding: 20px 40px;
            border-radius: 50px;
            display: inline-block;
            margin: 20px auto;
            box-shadow: 0 10px 25px var(--shadow);
            border: 3px solid var(--pink-light);
        }
        
        .counter {
            font-size: 2rem;
            color: var(--pink-dark);
            font-weight: bold;
        }
        
        .orbs-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 15px;
            margin: 40px auto;
            max-width: 700px;
        }
        
        @media (max-width: 768px) {
            .orbs-grid { grid-template-columns: repeat(4, 1fr); }
        }
        
        @media (max-width: 480px) {
            .orbs-grid { grid-template-columns: repeat(3, 1fr); }
        }
        
        .orb {
            width: 70px;
            height: 70px;
            background: linear-gradient(145deg, var(--pink-light), var(--pink-medium));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.4rem;
            cursor: pointer;
            margin: 0 auto;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 4px solid white;
            box-shadow: 0 8px 15px var(--shadow);
            position: relative;
            overflow: hidden;
        }
        
        .orb::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            z-index: 1;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .orb:hover {
            transform: scale(1.2) rotate(10deg);
            box-shadow: 0 15px 25px var(--shadow);
        }
        
        .orb:hover::before {
            opacity: 1;
        }
        
        .orb.collected {
            background: linear-gradient(145deg, #C5E1A5, #81C784);
            transform: scale(0.9);
            opacity: 0.8;
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }
        
        .hint {
            margin-top: 30px;
            font-size: 1.2rem;
            color: var(--text-dark);
            opacity: 0.8;
        }
        
        /* ===== SCENE 3: KILAS BALIK 50 FOTO ===== */
        #scene3 {
            display: none;
            background: linear-gradient(135deg, #FFECF1, #FFD6E7);
        }
        
        .slideshow-header {
            margin-bottom: 40px;
        }
        
        .slideshow-title {
            font-size: 2.8rem;
            color: var(--pink-dark);
            margin-bottom: 15px;
            text-shadow: 2px 2px 0 var(--shadow);
        }
        
        .slideshow-subtitle {
            font-size: 1.3rem;
            color: var(--text-dark);
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .slideshow-container {
            width: 90%;
            max-width: 900px;
            height: 60vh;
            position: relative;
            margin: 0 auto 40px;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 20px 50px var(--shadow);
            border: 5px solid white;
            background: white;
        }
        
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        .slide img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .slide-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.85);
            padding: 15px;
            text-align: center;
            backdrop-filter: blur(5px);
            border-top: 2px solid var(--pink-light);
        }
        
        .slide-title {
            color: var(--pink-dark);
            font-size: 1.4rem;
            margin-bottom: 5px;
        }
        
        .slide-desc {
            color: var(--text-dark);
            opacity: 0.9;
            font-size: 1rem;
        }
        
        .final-message {
            max-width: 800px;
            margin: 40px auto;
            padding: 40px;
            background: white;
            border-radius: 25px;
            font-size: 1.3rem;
            line-height: 1.8;
            box-shadow: 0 20px 40px var(--shadow);
            border: 3px dashed var(--pink-medium);
        }
        
        .heart {
            color: #ff6b6b;
            animation: heartbeat 1.2s infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        /* ===== POPUP FOTO ===== */
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .popup-content {
            background: linear-gradient(135deg, white, #FFF5F9);
            padding: 30px;
            border-radius: 25px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 30px 60px rgba(0,0,0,0.5);
            border: 5px solid var(--pink-light);
            animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .photo-container {
            width: 100%;
            max-height: 55vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #f8f8f8;
            border-radius: 15px;
            margin-bottom: 25px;
            padding: 20px;
            border: 3px dashed var(--pink-light);
        }
        
        .memory-photo {
            max-width: 100%;
            max-height: 50vh;
            width: auto;
            height: auto;
            object-fit: contain;
            border-radius: 12px;
        }
        
        .photo-title {
            color: var(--pink-dark);
            margin: 15px 0 10px;
            font-size: 1.8rem;
        }
        
        .photo-desc {
            color: #666;
            line-height: 1.7;
            margin-bottom: 25px;
            font-size: 1.1rem;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 25px;
        }
        
        .nav-btn, .close-btn {
            background: linear-gradient(145deg, var(--pink-medium), var(--pink-dark));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            box-shadow: 0 5px 15px var(--shadow);
        }
        
        .nav-btn:hover, .close-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px var(--shadow);
        }
        
        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .photo-counter {
            font-weight: bold;
            color: var(--pink-dark);
            font-size: 1.2rem;
        }
        
        .controls {
            text-align: center;
            margin-top: 20px;
        }
        
        /* ===== PROGRESS BAR ===== */
        .progress-container {
            width: 90%;
            max-width: 600px;
            height: 20px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            margin: 30px auto;
            overflow: hidden;
            border: 2px solid white;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--pink-light), var(--pink-dark));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        /* ===== FOOTER ===== */
        .footer {
            margin-top: 40px;
            padding: 20px;
            color: var(--text-dark);
            opacity: 0.8;
            font-size: 1rem;
        }
        
        /* ===== VIBRASI/EFFECT SHAKE ===== */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        .shake {
            animation: shake 0.5s ease-in-out;
        }
    </style>
</head>
<body>
    <!-- PARTIKEL BACKGROUND -->
    <div id="particles-js"></div>
    
    <!-- AUDIO ELEMENTS -->
    <audio id="blowSound" preload="auto">
        <!-- SUARA TIUP LILIN (upload ke ImgBB, ganti src) -->
        <source src="https://example.com/blow.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgMusic" loop preload="auto">
        <!-- LAGU NADIN AMIZAH (upload ke ImgBB, ganti src) -->
        <source src="https://example.com/song.mp3" type="audio/mpeg">
    </audio>
    
    <!-- SCENE 1: INTRO & TIUP LILIN -->
    <section class="scene" id="scene1">
        <div class="container">
            <div class="unicorn-header">ü¶Ñ‚ú®</div>
            <h1 class="birthday-title">Happy 22nd Birthday My Love!</h1>
            <p class="subtitle">Untuk pacarku tercinta yang berulang tahun ke-22</p>
            
            <div class="cake-container">
                <div class="cake">üéÇ</div>
                <div class="candle">
                    <div class="flame" id="flame"></div>
                </div>
            </div>
            
            <div class="wish-text">
                <p>Hari ini adalah hari spesialmu! <br> Tiup lilin ini dan buat harapan terindah untuk tahun yang baru penuh kebahagiaan.</p>
            </div>
            
            <button class="blow-btn" onclick="blowCandle()">
                <i class="fas fa-birthday-cake"></i> Tiup Lilin & Mulai Petualangan!
            </button>
            
            <div class="floating-elements">
                <div class="floating" style="top:10%; left:5%;">üå∏</div>
                <div class="floating" style="top:15%; right:10%;">üíñ</div>
                <div class="floating" style="bottom:20%; left:15%;">‚ú®</div>
                <div class="floating" style="bottom:10%; right:5%;">ü¶Ñ</div>
            </div>
        </div>
    </section>
    
    <!-- SCENE 2: GAME 22 ORB -->
    <section class="scene" id="scene2">
        <div class="container">
            <div class="game-header">
                <h2 class="game-title">üíù Kumpulkan 22 Kenangan Kita! üíù</h2>
                <p>Setiap lingkaran adalah momen spesial yang kita lewati bersama</p>
            </div>
            
            <div class="counter-container">
                <div class="counter">Terkumpul: <span id="count">0</span>/22</div>
            </div>
            
            <!-- PROGRESS BAR -->
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <!-- ORB GRID -->
            <div class="orbs-grid" id="orbs">
                <!-- Orbs akan dibuat oleh JavaScript -->
            </div>
            
            <p class="hint">Klik setiap lingkaran untuk melihat foto dan cerita kita!</p>
            
            <div class="footer">
                <p>üéÆ Kumpulkan semua untuk melihat kejutan spesial!</p>
            </div>
        </div>
    </section>
    
    <!-- SCENE 3: KILAS BALIK 50 FOTO -->
    <section class="scene" id="scene3">
        <div class="container">
            <div class="slideshow-header">
                <h2 class="slideshow-title">‚ú® Kilas Balik 50 Kenangan Indah ‚ú®</h2>
                <p class="slideshow-subtitle">Inilah perjalanan cinta kita dalam 50 momen tak terlupakan</p>
            </div>
            
            <div class="slideshow-container" id="slideshow">
                <!-- Slides akan diisi JavaScript -->
            </div>
            
            <div class="final-message">
                <h3 style="color:var(--pink-dark); margin-bottom:25px; font-size:2rem;">
                    <span class="heart">üíñ</span> Happy 22nd Birthday Sayangku! <span class="heart">üíñ</span>
                </h3>
                <p>Terima kasih telah menjadi warna terindah dalam hidupku. Setiap tawa, setiap pelukan, setiap perjalanan bersamamu adalah halaman terbaik dalam buku cerita hidupku.</p>
                <p style="margin-top:20px; font-style:italic; color:var(--pink-dark);">
                    "Aku bersyukur untuk 22 tahun kehadiranmu di dunia ini, dan khususnya untuk setiap detik yang bisa kita lewati bersama. Semoga tahun ini membawa lebih banyak kebahagiaan, petualangan, dan cinta yang tak terbatas."
                </p>
                <p style="margin-top:30px; font-size:1.5rem;">
                    Aku sayang kamu lebih dari kata-kata bisa ungkapkan! <span class="heart">üíù</span>
                </p>
            </div>
            
            <div class="footer">
                <p>Dibuat dengan <span class="heart">‚ù§Ô∏è</span> khusus untuk ulang tahunmu</p>
            </div>
        </div>
    </section>
    
    <!-- POPUP FOTO -->
    <div class="popup" id="popup">
        <div class="popup-content">
            <div class="photo-container">
                <img id="popup-img" src="" alt="Kenangan" class="memory-photo">
            </div>
            
            <div class="photo-info">
                <h3 class="photo-title" id="photo-title">Kenangan #1</h3>
                <p class="photo-desc" id="photo-desc">Ini adalah kenangan indah pertama kita bersama.</p>
                
                <div class="nav-buttons">
                    <button class="nav-btn" onclick="prevPhoto()" id="prev-btn">
                        <i class="fas fa-chevron-left"></i> Sebelumnya
                    </button>
                    <span class="photo-counter" id="photo-counter">1/22</span>
                    <button class="nav-btn" onclick="nextPhoto()" id="next-btn">
                        Selanjutnya <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <div class="controls">
                    <button class="close-btn" onclick="closePopup()">
                        <i class="fas fa-times"></i> Tutup
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- PARTIKEL JS LIBRARY -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <script>
        // ==================== DATA ====================
        // DATA ORB: 22 foto (untuk game)
        const orbMemories = [
            // Foto 1-22 yang sudah ada
            { title: "Kenangan 1", desc: "Momen pertama yang tak terlupakan.", url: "https://i.ibb.co/LhzZhsVv/1.jpg" },
            { title: "Kenangan 2", desc: "Senyuman yang menyimpan seribu cerita.", url: "https://i.ibb.co/jZwktMgH/2.jpg" },
            { title: "Kenangan 3", desc: "Petualangan kecil kita yang penuh tawa.", url: "https://i.ibb.co/Swn7CdQR/3.jpg" },
            { title: "Kenangan 4", desc: "Diam-diam bahagia bersamamu.", url: "https://i.ibb.co/k6cDZY3m/4.jpg" },
            { title: "Kenangan 5", desc: "Cahaya senja menemani canda kita.", url: "https://i.ibb.co/p6csddZ9/5.jpg" },
            { title: "Kenangan 6", desc: "Ketika dunia terasa sempurna.", url: "https://i.ibb.co/JRTrzKsr/6.jpg" },
            { title: "Kenangan 7", desc: "Selfie yang bercerita lebih dari kata-kata.", url: "https://i.ibb.co/G4ZWPvvM/7.jpg" },
            { title: "Kenangan 8", desc: "Langkah kecil, kenangan besar.", url: "https://i.ibb.co/kd0wX07/8.jpg" },
            { title: "Kenangan 9", desc: "Bersyukur atas setiap detik bersamamu.", url: "https://i.ibb.co/VYkqHfS8/9.jpg" },
            { title: "Kenangan 10", desc: "Percakapan sederhana yang paling berkesan.", url: "https://i.ibb.co/PvFfnCyk/10.jpg" },
            { title: "Kenangan 11", desc: "Hujan yang membawa keberuntungan.", url: "https://i.ibb.co/21t27sNQ/11.jpg" },
            { title: "Kenangan 12", desc: "Di sini, waktu terasa melambat.", url: "https://i.ibb.co/Rp0BVtSt/12.jpg" },
            { title: "Kenangan 13", desc: "Bersandar dan merasakan kedamaian.", url: "https://i.ibb.co/RrjYLfC/13.jpg" },
            { title: "Kenangan 14", desc: "Wajahmu di bawah cahaya bulan.", url: "https://i.ibb.co/hR8PpVgM/14.jpg" },
            { title: "Kenangan 15", desc: "Melangkah beriringan ke masa depan.", url: "https://i.ibb.co/NgGkNnj6/15.jpg" },
            { title: "Kenangan 16", desc: "Cinta itu sederhana: hadir dan mengerti.", url: "https://i.ibb.co/x8JJ1Gn8/16.jpg" },
            { title: "Kenangan 17", desc: "Tertawa lepas tentang hal-hal kecil.", url: "https://i.ibb.co/.../17.jpg" }, // GANTI LINK INI
            { title: "Kenangan 18", desc: "Perjalanan yang mengajarkan arti kebersamaan.", url: "https://i.ibb.co/Qv5Kw5HV/18.jpg" },
            { title: "Kenangan 19", desc: "Jejak kita di tempat yang indah.", url: "https://i.ibb.co/4nXPKwnz/19.jpg" },
            { title: "Kenangan 20", desc: "Mata yang menceritakan segalanya.", url: "https://i.ibb.co/RptZSTmQ/20.jpg" },
            { title: "Kenangan 21", desc: "Bersamamu adalah tempat favoritku.", url: "https://i.ibb.co/Fb1xdwrL/21.jpg" },
            { title: "Kenangan 22", desc: "Foto terbaru kita, bab baru dimulai.", url: "https://i.ibb.co/1t5zf6rq/22.jpg" }
        ];
        
        // DATA KILAS BALIK: 50 foto (22 dari atas + 28 tambahan)
        // ‚ö†Ô∏è KAMU HARUS MENAMBAH 28 FOTO LAGI DI SINI
        const slideshowMemories = [...orbMemories]; // Mulai dengan 22 foto orb
        
        // Tambah 28 foto tambahan untuk slideshow
        // Contoh (kamu perlu ganti dengan link aslimu):
        for (let i = 23; i <= 50; i++) {
            slideshowMemories.push({
                title: `Kenangan ${i}`,
                desc: `Deskripsi untuk kenangan spesial kita yang ke-${i}.`,
                url: `https://i.ibb.co/.../${i}.jpg` // GANTI LINK INI
            });
        }
        
        // ==================== INISIALISASI ====================
        const totalOrbs = 22; // Game orb tetap 22
        let collected = 0;
        let currentIndex = 0;
        let musicStarted = false;
        
        // ==================== PARTIKEL BACKGROUND ====================
        particlesJS("particles-js", {
            particles: {
                number: { value: 50, density: { enable: true, value_area: 800 } },
                color: { value: ["#FFB8D9", "#FF8EC7", "#FF6BB5", "#FFD6E7"] },
                shape: { type: "circle" },
                opacity: { value: 0.5, random: true },
                size: { value: 5, random: true },
                line_linked: { enable: true, distance: 150, color: "#FF8EC7", opacity: 0.3, width: 1 },
                move: { enable: true, speed: 2, direction: "none", random: true }
            },
            interactivity: {
                detect_on: "canvas",
                events: {
                    onhover: { enable: true, mode: "repulse" },
                    onclick: { enable: true, mode: "push" }
                }
            }
        });
        
        // ==================== FUNGSI TIUP LILIN DENGAN GETARAN ====================
        function blowCandle() {
            const blowSound = document.getElementById('blowSound');
            const flame = document.getElementById('flame');
            const btn = document.querySelector('.blow-btn');
            const cakeContainer = document.querySelector('.cake-container');
            
            // 1. EFEK GETARAN/ SHAKE
            cakeContainer.classList.add('shake');
            document.body.classList.add('shake');
            
            // 2. Mainkan suara tiup
            blowSound.play();
            
            // 3. Animasi api padam
            flame.style.animation = 'none';
            flame.style.opacity = '0';
            flame.style.transform = 'scale(0.3)';
            flame.style.transition = 'all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
            
            // 4. Efek tombol
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Membuka Kejutan...';
            btn.disabled = true;
            btn.classList.add('shake');
            
            // 5. Hentikan getaran setelah 0.5 detik
            setTimeout(() => {
                cakeContainer.classList.remove('shake');
                document.body.classList.remove('shake');
                btn.classList.remove('shake');
            }, 500);
            
            // 6. Setelah delay, pindah scene & mulai musik
            setTimeout(() => {
                // Mulai musik Nadin Amizah
                if (!musicStarted) {
                    const bgMusic = document.getElementById('bgMusic');
                    bgMusic.volume = 0.5;
                    bgMusic.play().then(() => {
                        musicStarted = true;
                    }).catch(e => {
                        console.log("Audio diblokir, akan mulai setelah interaksi lain.");
                    });
                }
                
                // Transisi scene
                document.getElementById('scene1').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('scene1').style.display = 'none';
                    document.getElementById('scene2').style.display = 'flex';
                    initOrbs(); // Inisialisasi orb
                    setTimeout(() => {
                        document.getElementById('scene2').style.opacity = '1';
                    }, 50);
                }, 600);
            }, 1600);
        }
        
        // ==================== INISIALISASI ORB ====================
        function initOrbs() {
            const orbsContainer = document.getElementById('orbs');
            orbsContainer.innerHTML = '';
            
            for(let i = 0; i < totalOrbs; i++) {
                const orb = document.createElement('div');
                orb.className = 'orb';
                orb.textContent = i + 1;
                orb.onclick = () => showPhoto(i);
                orbsContainer.appendChild(orb);
            }
            
            updateProgress();
        }
        
        // ==================== PROGRESS BAR ====================
        function updateProgress() {
            const progress = (collected / totalOrbs) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }
        
        // ==================== POPUP FOTO (UNTUK ORB) ====================
        function showPhoto(index) {
            currentIndex = index;
            const memory = orbMemories[index] || { title: "Kenangan", desc: "Deskripsi", url: "" };
            
            const img = document.getElementById('popup-img');
            img.src = memory.url;
            
            // Auto detect potrait/landscape
            img.onload = function() {
                if (this.naturalHeight > this.naturalWidth) {
                    img.style.maxHeight = '60vh';
                    img.style.width = 'auto';
                } else {
                    img.style.maxWidth = '100%';
                    img.style.height = 'auto';
                }
            };
            
            document.getElementById('photo-title').textContent = memory.title;
            document.getElementById('photo-desc').textContent = memory.desc;
            document.getElementById('photo-counter').textContent = `${index + 1}/${totalOrbs}`;
            
            // Update tombol navigasi
            document.getElementById('prev-btn').disabled = index === 0;
            document.getElementById('next-btn').disabled = index === totalOrbs - 1;
            
            // Tampilkan popup
            document.getElementById('popup').style.display = 'flex';
            
            // Tandai orb sebagai terkumpul
            const orbs = document.querySelectorAll('.orb');
            if (orbs[index] && !orbs[index].classList.contains('collected')) {
                orbs[index].classList.add('collected');
                collected++;
                document.getElementById('count').textContent = collected;
                updateProgress();
                
                // Jika semua 22 orb terkumpul, pindah ke kilas balik 50 foto
                if(collected === totalOrbs) {
                    setTimeout(showRecap, 1000);
                }
            }
        }
        
        function prevPhoto() {
            if (currentIndex > 0) showPhoto(currentIndex - 1);
        }
        
        function nextPhoto() {
            if (currentIndex < totalOrbs - 1) showPhoto(currentIndex + 1);
        }
        
        function closePopup() {
            document.getElementById('popup').style.display = 'none';
        }
        
        // ==================== KILAS BALIK 50 FOTO ====================
        function showRecap() {
            closePopup();
            
            // Transisi scene
            document.getElementById('scene2').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('scene2').style.display = 'none';
                document.getElementById('scene3').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('scene3').style.opacity = '1';
                    startSlideshow();
                }, 50);
            }, 700);
        }
        
        function startSlideshow() {
            const container = document.getElementById('slideshow');
            container.innerHTML = '';
            
            // Buat slide untuk setiap foto (50 foto)
            slideshowMemories.forEach((memory, index) => {
                const slide = document.createElement('div');
                slide.className = 'slide';
                if (index === 0) slide.classList.add('active');
                
                const img = document.createElement('img');
                img.src = memory.url;
                img.alt = memory.title;
                slide.appendChild(img);
                
                // Info slide
                const info = document.createElement('div');
                info.className = 'slide-info';
                info.innerHTML = `
                    <div class="slide-title">${memory.title}</div>
                    <div class="slide-desc">${memory.desc}</div>
                `;
                slide.appendChild(info);
                
                container.appendChild(slide);
            });
            
            // Rotasi slide setiap 3.5 detik
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            const totalSlides = slides.length;
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % totalSlides;
                slides[currentSlide].classList.add('active');
            }, 3500);
        }
        
        // ==================== EVENT LISTENERS ====================
        document.getElementById('popup').onclick = function(e) {
            if(e.target === this) closePopup();
        };
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('popup').style.display === 'flex') {
                if (e.key === 'ArrowLeft') prevPhoto();
                if (e.key === 'ArrowRight') nextPhoto();
                if (e.key === 'Escape') closePopup();
            }
        });
        
        // ==================== INISIALISASI ====================
        window.onload = function() {
            console.log('üéâ Birthday Experience Loaded!');
            console.log(`üì∏ Orb memories: ${orbMemories.length} (harus 22)`);
            console.log(`üì∏ Slideshow memories: ${slideshowMemories.length} (harus 50)`);
            
            // Validasi data
            if (orbMemories.length < 22) {
                console.warn(`‚ö†Ô∏è PERINGATAN: Kamu hanya punya ${orbMemories.length} foto untuk orb. Tambah ${22 - orbMemories.length} foto lagi!`);
            }
            if (slideshowMemories.length < 50) {
                console.warn(`‚ö†Ô∏è PERINGATAN: Kamu hanya punya ${slideshowMemories.length} foto untuk slideshow. Tambah ${50 - slideshowMemories.length} foto lagi!`);
            }
        };
    </script>
</body>
</html>
